<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>YASK: yask::yk_factory Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">YASK
   </div>
   <div id="projectbrief">Yet Another Stencil Kernel: a software framework for creating HPC stencil code. Copyright 2014-2018 Intel Corporation.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>yask</b></li><li class="navelem"><a class="el" href="classyask_1_1yk__factory.html">yk_factory</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classyask_1_1yk__factory-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">yask::yk_factory Class Reference<div class="ingroups"><a class="el" href="group__yk.html">YASK Kernel</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Bootstrap factory to create a stencil solution.  
 <a href="classyask_1_1yk__factory.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="yask__kernel__api_8hpp_source.html">yask_kernel_api.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a049d5803312219e78797cced8aca0b9a"><td class="memItemLeft" align="right" valign="top">virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classyask_1_1yk__factory.html#a049d5803312219e78797cced8aca0b9a">get_version_string</a> ()</td></tr>
<tr class="memdesc:a049d5803312219e78797cced8aca0b9a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Version information.  <a href="#a049d5803312219e78797cced8aca0b9a">More...</a><br /></td></tr>
<tr class="separator:a049d5803312219e78797cced8aca0b9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7eed1ca2e79b5edb76f2cafb57cad459"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="group__yk.html#ga8dc62f5599d5c5eb9f7583d7d6a63df1">yk_env_ptr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classyask_1_1yk__factory.html#a7eed1ca2e79b5edb76f2cafb57cad459">new_env</a> () const </td></tr>
<tr class="memdesc:a7eed1ca2e79b5edb76f2cafb57cad459"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create an object to hold environment information.  <a href="#a7eed1ca2e79b5edb76f2cafb57cad459">More...</a><br /></td></tr>
<tr class="separator:a7eed1ca2e79b5edb76f2cafb57cad459"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab882536b5dc6c9c5142aede57fd83155"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="group__yk.html#ga2debaa7135bb46dfc295ca623bee2876">yk_solution_ptr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classyask_1_1yk__factory.html#ab882536b5dc6c9c5142aede57fd83155">new_solution</a> (<a class="el" href="group__yk.html#ga8dc62f5599d5c5eb9f7583d7d6a63df1">yk_env_ptr</a> env) const </td></tr>
<tr class="memdesc:ab882536b5dc6c9c5142aede57fd83155"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a stencil solution.  <a href="#ab882536b5dc6c9c5142aede57fd83155">More...</a><br /></td></tr>
<tr class="separator:ab882536b5dc6c9c5142aede57fd83155"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06b89abf5b409531a7f6381b5ca68ee1"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="group__yk.html#ga2debaa7135bb46dfc295ca623bee2876">yk_solution_ptr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classyask_1_1yk__factory.html#a06b89abf5b409531a7f6381b5ca68ee1">new_solution</a> (<a class="el" href="group__yk.html#ga8dc62f5599d5c5eb9f7583d7d6a63df1">yk_env_ptr</a> env, const <a class="el" href="group__yk.html#ga2debaa7135bb46dfc295ca623bee2876">yk_solution_ptr</a> source) const </td></tr>
<tr class="memdesc:a06b89abf5b409531a7f6381b5ca68ee1"><td class="mdescLeft">&#160;</td><td class="mdescRight"><b>[Advanced]</b> Create a stencil solution by copying the settings from another.  <a href="#a06b89abf5b409531a7f6381b5ca68ee1">More...</a><br /></td></tr>
<tr class="separator:a06b89abf5b409531a7f6381b5ca68ee1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Bootstrap factory to create a stencil solution. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a049d5803312219e78797cced8aca0b9a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::string yask::yk_factory::get_version_string </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Version information. </p>
<dl class="section return"><dt>Returns</dt><dd>String describing the current version. </dd></dl>

</div>
</div>
<a class="anchor" id="a7eed1ca2e79b5edb76f2cafb57cad459"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="group__yk.html#ga8dc62f5599d5c5eb9f7583d7d6a63df1">yk_env_ptr</a> yask::yk_factory::new_env </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create an object to hold environment information. </p>
<p>Performs the following initialization steps:</p><ul>
<li>Initializes MPI if MPI is enabled but not yet initialized. Does not initialize MPI if MPI is not enabled or already initialized. If MPI is enabled, uses <code>MPI_COMM_WORLD</code> as the communicator.</li>
<li>Sets flush-to-zero (FTZ) and denormals-are-zero (DAZ) floating-point controls.</li>
<li>Enables "hot teams" mode for Intel OpenMP. Initializes OpenMP library if it is not already started. If it is already started, note that the "hot teams" mode may not get set correctly. This mode is important for optimal performance of nested OpenMP regions (used when the number of threads per block is greater than one).</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>If you initialize MPI before calling this function, you should call <code>MPI_Init_thread(..., MPI_THREAD_SERIALIZED, ...)</code> or <code>MPI_Init_thread(..., MPI_THREAD_MULTIPLE, ...)</code>.</dd>
<dd>
If you initialize OpenMP (by calling any OpenMP function) before calling this function, set the following environment variables prior to initializing OpenMP: <code>KMP_HOT_TEAMS_MODE=</code> and <code>KMP_HOT_TEAMS_MAX_LEVEL=2</code>.</dd></dl>
<p>Environment info is kept in a separate object to factilitate initializing the environment before creating a solution and sharing an environment among multiple solutions. </p><dl class="section return"><dt>Returns</dt><dd>Pointer to new env object. </dd></dl>

</div>
</div>
<a class="anchor" id="ab882536b5dc6c9c5142aede57fd83155"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="group__yk.html#ga2debaa7135bb46dfc295ca623bee2876">yk_solution_ptr</a> yask::yk_factory::new_solution </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__yk.html#ga8dc62f5599d5c5eb9f7583d7d6a63df1">yk_env_ptr</a>&#160;</td>
          <td class="paramname"><em>env</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a stencil solution. </p>
<p>A stencil solution contains all the grids and equations that were created during stencil compilation. </p><dl class="section return"><dt>Returns</dt><dd>Pointer to new solution object. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">env</td><td>Pointer to env info. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a06b89abf5b409531a7f6381b5ca68ee1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="group__yk.html#ga2debaa7135bb46dfc295ca623bee2876">yk_solution_ptr</a> yask::yk_factory::new_solution </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__yk.html#ga8dc62f5599d5c5eb9f7583d7d6a63df1">yk_env_ptr</a>&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__yk.html#ga2debaa7135bb46dfc295ca623bee2876">yk_solution_ptr</a>&#160;</td>
          <td class="paramname"><em>source</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><b>[Advanced]</b> Create a stencil solution by copying the settings from another. </p>
<p>All the settings that were specified via the <code>yk_solution::set_*()</code> functions in the source solution will be copied to the new solution. This does <em>not</em> copy any grids, grid settings, or grid data; see <a class="el" href="classyask_1_1yk__solution.html#acd78008f0b70b509f8dfa94536f63a70" title="[Advanced] Use data-storage from existing grids in specified solution. ">yk_solution::share_grid_storage()</a>. </p><dl class="section return"><dt>Returns</dt><dd>Pointer to new solution object. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">env</td><td>Pointer to env info. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">source</td><td>Pointer to existing <a class="el" href="classyask_1_1yk__solution.html">yk_solution</a> from which the settings will be copied. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="yask__kernel__api_8hpp_source.html">yask_kernel_api.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
